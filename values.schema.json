{
    "$schema": "https://json-schema.org/draft-07/schema#",
    "properties": {
      "name": {
        "description": "Service name",
        "type": "string"
      },
      "security": {
        "type": "object",
        "required": ["type", "azure"],
        "properties": {
          "type": {
            "description": "Security Type",
            "enum": ["AZURE"]
          },
          "azure": {
            "type": "object",
            "required": ["appIdURI", "appClientId", "appTenantId", "appSecret"],
            "properties": {
              "appIdURI": {
                "description": "Azure Active Directory Application Id URI from Base App",
                "type": "string"
              },
              "appClientId": {
                "description": "Azure Active Directory Client Id",
                "type": "string"
              },
              "appTenantId": {
                "description": "Azure Active Directory Tenant Id",
                "type": "string"
              },
              "appSecret": {
                "description": "Azure Active Directory Client Secret",
                "type": "string"
              }
            }
          }
        }
      },
      "storage": {
        "type": "object",
        "required": ["azure"],
        "properties": {
          "azure": {
            "type": "object",
            "required": ["storageAccountName", "storageAccountResourceGroup", "storageAccountAccessKey"],
            "properties": {
              "storageAccountName": {
                "description": "Storage Account Name",
                "type": "string"
              },
              "storageAccountResourceGroup": {
                "description": "Storage Account Resource Group",
                "type": "string"
              },
              "storageAccountAccessKey": {
                "description": "Storage Account Access Key",
                "type": "string"
              }
            }
          }
        }
      },
      "api": {
        "type": "object",
        "required": ["enabled", "version", "replicaCount", "properties"],
        "properties": {
          "enabled": {
            "description": "Enable API",
            "type": "boolean"
          },
          "version": {
            "description": "API Version",
            "type": "string"
          },
          "replicaCount": {
            "description": "Replica count for API",
            "type": "string"
          },
          "serviceType": {
            "description": "Kubernetes service type",
            "enum": ["ClusterIP", "NodePort", "LoadBalancer", "ExternalName"]
          },
          "properties": {
            "type": "object",
            "required": ["databaseType", "databaseHostname", "databaseName", "databaseUser", "databasePassword"],
            "properties": {
              "databaseType": {
                "description": "Supported databse types",
                "enum": ["H2", "SQL_AZURE", "POSTGRESQL", "MYSQL"]
              },
              "databaseHostname": {
                "description": "Database hostname. Example: terrakube-sample-db.database.windows.net",
                "type": "string"
              },
              "databaseName": {
                "description": "Database name. Example: terrakube-db",
                "type": "string"
              },
              "databaseUser": {
                "description": "Database user. Example: SuperAdmin",
                "type": "string"
              },
              "databasePassword": {
                "description": "Database password. Example: SuperPassword",
                "type": "string"
              }
            }
          }
        }
      },
      "executor": {
        "type": "object",
        "required": ["enabled", "version", "replicaCount", "properties"],
        "properties": {
          "enabled": {
            "description": "Enable Executor",
            "type": "boolean"
          },
          "version": {
            "description": "Executor Docker Version",
            "type": "string"
          },
          "replicaCount": {
            "description": "Replica count for API",
            "type": "string"
          },
          "serviceType": {
            "description": "Kubernetes service type",
            "enum": ["ClusterIP", "NodePort", "LoadBalancer", "ExternalName"]
          },
          "properties": {
            "type": "object",
            "required": ["toolsRepository", "toolsBranch"],
            "properties": {
              "toolsRepository": {
                "description": "Terrakube Tools repository. Example: https://github.com/AzBuilder/terrakube-extensions",
                "type": "string"
              },
              "toolsBranch": {
                "description": "Terraukbe Tools branch. Example: main",
                "type": "string"
              },
              "terraformStateType": {
                "description": "Terraform State implementation",
                "enum": ["AzureTerraformStateImpl"]
              },
              "terraformOutputType": {
                "description": "Terraform Output implementation",
                "enum": ["AzureTerraformOutputImpl"]
              }
            }
          }
        }
      },
      "registry": {
        "type": "object",
        "required": ["enabled", "version", "replicaCount"],
        "properties": {
          "enabled": {
            "description": "Enable Executor",
            "type": "boolean"
          },
          "version": {
            "description": "Registry Docker Version",
            "type": "string"
          },
          "replicaCount": {
            "description": "Replica count for Registry",
            "type": "string"
          },
          "serviceType": {
            "description": "Kubernetes service type",
            "enum": ["ClusterIP", "NodePort", "LoadBalancer", "ExternalName"]
          }
        }
      },
      "ui": {
        "type": "object",
        "required": ["enabled", "version", "replicaCount"],
        "properties": {
          "enabled": {
            "description": "Enable Executor",
            "type": "boolean"
          },
          "version": {
            "description": "UI Docker Version",
            "type": "string"
          },
          "replicaCount": {
            "description": "Replica count for UI",
            "type": "string"
          },
          "serviceType": {
            "description": "Kubernetes service type",
            "enum": ["ClusterIP", "NodePort", "LoadBalancer", "ExternalName"]
          }
        }
      },
      "ingress": {
        "type": "object",
        "required": ["ui", "api", "registry", "useTls"],
        "properties": {
          "useTls": {
            "description": "Enable Https Ingress",
                "type": "boolean"
          },
          "ui": {
            "type": "object",
            "properties": {
              "enabled": {
                "description": "Enable ingress UI",
                "type": "boolean"
              },
              "domain": {
                "description": "UI domain",
                "type": "string"
              },
              "path": {
                "description": "Ingress UI path",
                "type": "string"
              },
              "pathType": {
                "description": "Ingress UI path type",
                "enum": ["ImplementationSpecific", "Exact", "Prefix"]
              },
              "annotations": {
                "type": "object"
              }
            }
          },
          "api": {
            "type": "object",
            "required": ["enabled", "domain", "annotations"],
            "properties": {
              "enabled": {
                "description": "Enable ingress API",
                "type": "boolean"
              },
              "domain": {
                "description": "API domain",
                "type": "string"
              },
              "path": {
                "description": "Ingress API path",
                "type": "string"
              },
              "pathType": {
                "description": "Ingress API path type",
                "enum": ["ImplementationSpecific", "Exact", "Prefix"]
              },
              "annotations": {
                "type": "object"
              }
            }
          },
          "registry": {
            "type": "object",
            "properties": {
              "enabled": {
                "description": "Enable ingress UI",
                "type": "boolean"
              },
              "domain": {
                "description": "Registry domain",
                "type": "string"
              },
              "path": {
                "description": "Ingress registry path",
                "type": "string"
              },
              "pathType": {
                "description": "Ingress registry path type",
                "enum": ["ImplementationSpecific", "Exact", "Prefix"]
              },
              "annotations": {
                "type": "object"
              }
            }
          }
        }
      }
    },
    "title": "Terrakube Chart Values",
    "type": "object"
  }